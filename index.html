<script>
  function loadInbox() {
    fetch('inbox.json?t=' + Date.now()) // é˜²æ­¢ç¼“å­˜
      .then(res => res.json())
      .then(data => {
        const list = document.getElementById('email-list');
        list.innerHTML = '';

        // è·³è¿‡ç³»ç»Ÿæµ‹è¯•è¡Œï¼Œå–ç¬¬ä¸€å°çœŸå®é‚®ä»¶
        const realEmail = data.find(mail => mail.from !== 'ç³»ç»Ÿæµ‹è¯•');
        if (realEmail) {
          const div = document.createElement('div');
          div.className = 'mail';
          div.innerHTML = `
            <div class="from">ğŸ“© æ¥è‡ªï¼š${realEmail.from}</div>
            <div class="subject">ä¸»é¢˜ï¼š${realEmail.subject}</div>
            <div class="date">æ—¶é—´ï¼š${realEmail.date}</div>
          `;
          list.appendChild(div);
        } else {
          list.innerHTML = 'ğŸ“­ å½“å‰æš‚æ— çœŸå®é‚®ä»¶';
        }
      })
      .catch(err => {
        document.getElementById('email-list').innerText = 'åŠ è½½å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•';
        console.error(err);
      });
  }

  loadInbox();
  setInterval(loadInbox, 10000); // æ¯ 10 ç§’åˆ·æ–°
</script>
